---

Part 2: Connecting the frontend to the smart contract. ReactJS & ethers.js

---

ğŸ’  Step 1: Connect wallet (check Metamask + accounts)
ğŸ‘‰ Go to your starter files and open up App.js
ğŸ‘‰ Go to the login()
ğŸ‘‰ if (typeof window.ethereum !== "undefined") { }
ğŸ‘‰ add a console.log(â€œMetamask is installedâ€)
ğŸ‘‰ const accounts = await window.ethereum.request({
method: "eth_requestAccounts"
});
ğŸ‘‰ add const walletAccount = accounts[0];
ğŸ‘‰ console.log(walletAccount);
â— Add the login() to your Connect wallet button!
ğŸ‘€ Go to the browser and
â—Disconnect your Metamask first if it is connected!!
ğŸ‘‰ Try to connect your wallet
ğŸ¦Š Does your Metamask come up?
ğŸ‘€ And check the console for your account address!
ğŸ‘‰ go back to the code
ğŸ‘‰ set the walletAccount => setAccount(walletAccount)

ğŸ’  Step 2 Render mint button conditionally
ğŸ‘‰ go to the line of <div className=â€buttonâ€>Connect Wallet </div>
ğŸ‘‰ add {account ? (<div className=â€buttonâ€>MINT</div>) : (<div className=â€buttonâ€>Connect Walletâ€</div>} under the paragraph
â— Make sure to add a onClick of the mint function on the Mint button and an onClick of the login function on the Connect Wallet button

ğŸ’  Step 3: Wire up contract (provider, signer, NFTContract)
ğŸ‘‰ Import ethers at the top of our code: import {ethers} from â€œethersâ€
ğŸ‘‰ Remember your contract address? Copy and paste it here
â—If you forgot your contract address, check your terminal in Remix and try to find the latest contract creation by also checking etherscan links!
ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™€ï¸Otherwise ask me or my support team, to get a contractAddress and make sure to ask about an abi
ğŸ‘‰ make a contractAddress variable and set your contractAddress as a value
ğŸ‘€Example: const contractAddres = â€œ0x3bD5D6612eD5406E310EF366de1Fa4354D001281â€
ğŸ‘‰ Add these pieces of code:
ğŸš€ const provider = new ethers.providers.Web3Provider(window.ethereum);
ğŸš€ const signer = provider.getSigner(walletAccount);
ğŸš€ let NFTContract = new ethers.Contract(contractAddress, abi, signer);
ğŸ‘‰ Go to Remix
ğŸ‘‰ Go to the Solidity Compiler Section
âŒ Do not change the contract, deploy it or anything!
ğŸ‘€ Look for Abi at the bottom and copy that  
ğŸ‘‰ Go back to your minting-site code
ğŸ‘‰ find the folder called manual and the file abi.json
ğŸ‘‰ remove the object {name: â€œabiâ€}
ğŸ‘‰ paste the abi-json in there! Make sure to save it
ğŸ‘‰ Go to App.js
ğŸ‘‰ add import abi from â€œ./manual/abi.jsonâ€ at the top
ğŸ‘‰ console.log(NFTContract)
ğŸ‘‰ setContract(NFTContract)
â— Make sure all this functionality is INSIDE your if-statement (typeof window.ether etc.)

ğŸ’  Step 4: Add totalSupply and use it from the contract
ğŸ‘‰ Add useEffect with contract as dependency and getTotalSupply will fire of if the contract is true.
ğŸ‘‰ const totalSupply = await contract.totalSupply();
ğŸ‘‰ setSupply(totalSupply.toNumber())
ğŸ‘‰ add {supply} to your frontend â†’ {supply} minted / 200

ğŸ’  Step 5: Write the mint function
ğŸ‘‰ create a payload that takes a {value: ethers.utils.parseEther(â€œ0.01â€)
ğŸ‘‰ const transaction = await contract.safeMint(payload);
ğŸ‘‰ console.log(transaction.hash)
This is the hash weâ€™ve been seeing in Etherscan when we minted a NFT with Remix!
ğŸ‘‰ set the Hash as well - setHash(transaction.hash)

ğŸ’  Step 6: Insert getState()
ğŸ‘‰ go to the account variable in your below
ğŸ‘‰ remove the Mint button and replace it with getState()
ğŸ‘€ Look at the getState function we have

ğŸ’  Step 7: Pass mint function to StartMinting component => just add mint={mint}

ğŸ’  Step 8: Set the variables for progress and completed
ğŸ‘‰ Go to the mint function (uncomment the following code)
ğŸ‘‰ setInProgress(true)
ğŸ‘‰ await transaction.wait()
ğŸ‘‰ setInProgress(false)
ğŸ‘‰ setCompleted(true)
ğŸ‘‰ go back to getState()

ğŸ’  Step 9: Pass in the transaction hash to InProgressMinting Component
ğŸ‘€ Checkout the InProgressMinting component
ğŸ‘‰ Pass the transaction hash as props, so the URL can be made up to look at this transaction in Etherscan
â—Make sure your transaction.hash is set as a hash!
ğŸŒ Try this out in the browser!

ğŸ’  Step 10: Check Etherscan when the NFT is in progress of being minted
ğŸ‘‰ Mint a NFT on the website
ğŸ‘€ Metamask should come up and ask you for ether, confirm
ğŸ‘‰ Click to see Etherscan
ğŸ§˜â€â™€ï¸ Hold your phoneâ€¦â€¦wait..waitâ€¦.
ğŸ‘‰ At Etherscan: Tokens transferred, youâ€™ll see your NFT!
ğŸ‘‰ Click on the contract address
ğŸ‘€ You can see all your mints there!
ğŸ‘‰ Copy the contract address

ğŸ’  Step 11: View your collection on Testnet OpenSea
ğŸ‘‰ Google Testnet OpenSea
ğŸ‘‰ In the Search bar - paste in your contract address!
ğŸ‘€ You should see your collection come up with the amount of NFTs you have minted up until now!
ğŸ‘‰ Grab that URL and paste it into your CompletedMinting component at url
ğŸ‘‰ const url = "https://testnets.opensea.io/collection/<YourCollection>";

ğŸ’  Step 12 => exception
ğŸ‘‰ In case you don't see your collection (sometimes thatâ€™s the ase),
ğŸ‘‰ grab your contractAddress
ğŸ‘‰ use this link ğŸŒ https://testnets.opensea.io/assets/goerli/<contractAddress>/0 and paste in your contractAddress at <contractAddress>
ğŸ‘€ Youâ€™ll see your last minted NFT with tokenId 0
ğŸ‘‰ Click on the collection Frontmaniacs
ğŸ‘‰ Grab that URL at the top and paste it into your CompletedMinting component as a value for the variable url.
ğŸŒ Mint a Frontmaniac NFT on your own web3 app!!

We are DONE!!! ğŸ¥³ Good work!!
